{% extends 'base.html' %}

{% block content %}
<div class="register-wrapper">
  <div class="register-card">
    <h2 class="card-title">Cadastrar</h2>
    <form method="POST" action="{{ url_for('register') }}" class="needs-validation" novalidate>
      {{ form.hidden_tag() }}

      <div class="row gx-4">
        <div class="col-md-6 mb-3">
          <label for="{{ form.name.id }}" class="form-label">Seu Nome Completo</label>
          {{ form.name(class="form-control") }}
        </div>
        <div class="col-md-6 mb-3">
          <label for="{{ form.username.id }}" class="form-label">Nome de Usuário</label>
          {{ form.username(class="form-control") }}
        </div>
      </div>

      <div class="row gx-4">
        <div class="col-md-6 mb-3">
          <label for="{{ form.email.id }}" class="form-label">Email (exemplo@dominio.com)</label>
          {{ form.email(class="form-control") }}
        </div>
        <div class="col-md-6 mb-3">
          <label for="{{ form.password.id }}" class="form-label">Crie uma Senha</label>
          {{ form.password(class="form-control") }}
        </div>
      </div>

      <div class="mb-3">
        <label for="{{ form.confirm_password.id }}" class="form-label">Confirme sua Senha</label>
        {{ form.confirm_password(class="form-control") }}
      </div>

      <div class="d-flex justify-content-center mt-4">
        {{ form.submit(class='btn btn-primary btn-lg px-5') }}
      </div>

      <p class="mt-3 text-center">Já tem conta? <a href="{{ url_for('login') }}">Faça login</a></p>
    </form>
  </div>
</div>
{% endblock %}

{% block scripts %}
<script>
  (function () {
    'use strict';
    var forms = document.querySelectorAll('.needs-validation');
    Array.prototype.slice.call(forms).forEach(function (form) {
      form.addEventListener('submit', function (event) {
        if (!form.checkValidity()) {
          event.preventDefault();
          event.stopPropagation();
        }
        form.classList.add('was-validated');
      }, false);
    });
  })();
</script>

<style>
  body {
    margin: 0;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica Neue, Arial, sans-serif;
    background: linear-gradient(270deg, #f5f5f7, #ffe0f0);
    background-size: 400% 400%;
    animation: gradientTransition 12s ease infinite;
  }

  @keyframes gradientTransition {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }

  .register-wrapper {
    padding: 4rem 2rem;
    display: flex;
    justify-content: center;
  }

  .register-card {
    background-color: #fff;
    border-radius: 1.5rem;
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
    max-width: 800px;
    width: 100%;
    padding: 3rem 4rem;
  }

  .card-title {
    font-size: 2.5rem;
    font-weight: 600;
    color: #1d1d1f;
    margin-bottom: 2.5rem;
    text-align: center;
  }

  .form-label {
    font-weight: 500;
    color: #6e6e73;
    margin-bottom: 0.5rem;
  }

  .form-control {
    background-color: #f2f2f7;
    border: none;
    border-radius: 0.75rem;
    padding: 0.75rem 1rem;
    transition: background-color 0.3s, box-shadow 0.3s;
    width: 100%;
  }

  .form-control:focus {
    background-color: #fff;
    box-shadow: 0 0 0 3px rgba(0, 113, 227, 0.2);
    outline: none;
  }

  .btn-primary {
    background-color: #1d1d1f;
    color: #fff;
    border: none;
    border-radius: 0.75rem;
    padding: 0.75rem 2rem;
    font-size: 1rem;
    font-weight: 600;
    transition: background-color 0.3s, box-shadow 0.3s;
  }

  .btn-primary:hover {
    background-color: #333;
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
  }

  .mt-3 a {
    color: #0071e3;
    text-decoration: none;
    font-weight: 500;
  }

  .mt-3 a:hover {
    text-decoration: underline;
  }
</style>
{% endblock %}
